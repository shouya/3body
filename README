三體(the 3body) - September 2011

在此處可以得到最新版本: http://github.com/zxyzxy12321/3body

本程序啓發自劉慈欣小說《三體》中提到的三體運動.


鳴謝:

---------------------

The Powder Toy -- 文字顯示和字體模塊.



編譯方法:

---------------------

直接鍵入make即使用GNU Make工具自動編譯.




使用簡介:

---------------------

直接運行程序進入界面, 可以觀察天體運動, 目前的版本還不可控制.


熱鍵:

---------------------

Q           退出
T           切換痕蹟顯示
M           切換運動向量顯示
[           減小運行速度
]           增加運行速度
C           切換顯示模式(MASS/RADIUS)
空格        切換暫停狀態


命令行參數:

---------------------

3body [配置文件]



配置文件使用方法:

---------------------

可以使用配置文件配置一些程序參數和配置物體.

配置文件使用分組形式, 以 `[組名]'爲一組的起始.
每組中有不同的參數定義, 形如`參數=值'

參數分類型, 分別是整數, 實數, 布爾, 標識四種:
整數直接表示;
實屬可以用科學計數法譬如`1.7e-6'來表示1.7x10^(-6);
布爾只能用1或0來表達;
標識名可以直接寫, 但區分大小寫.


特殊組: [CONFIG]
鍵                    類型      含義                       缺省值
--------------------------------------------------------------------
MPS                   實數      每秒移動次數                30
SHOW_TRACE            布爾      是否顯示痕蹟                0
SHOW_MOTION_LINE      布爾      是否顯示運動向量             1
RANGE_X/RANGE_Y       實數      宇宙大小                    1000x1000
SCREEN_WIDTH/
    SCREEN_HEIGHT     整數      窗口大小/分辨率(全屏情況下)    600x600
G_CONSTANT            實數      萬有引力常量                6.67e-7
<s>MASS_SCALE            實數      根據質量顯示物體的縮放因子     1e10</s>
FULLSCRREN            布爾      是否全屏                    0
MERGE_MODE            布爾      是否開啓合併模式            1
DISPLAY_MODE          標識      缺省顯示模式, 可選MASS或RADIUS MASS
PRECISION             整數      物體顯示精確度(N邊形割圓)      20


指示物體的組名字以`OBJ'開頭, 擁有以下參數:
鍵              必要   類型      含義
--------------------------------------------------------------------
TYPE            是     標識      該物體或物體組的類型, 有BODY和BLACKHOLE兩種
N               否     整數      指示該物體組中物體的數量, 單個物體無須使用
X/Y             是     實數      該物體的位置座標, 以(0, 0)爲中心點
AX/AY           是     實數      物體的橫向和縱向加速度, BLACKHOLE無須填寫
MASS            是     實數      物體質量
RADIUS          是     實數      物體半徑


其間, 可以用隨機函數R來生成隨機數, 用法爲:
   `R(隨機數下限,隨機數上限)'
其中隨機數不能在CONFIG組使用.

配置文件中註釋爲以`#'開頭的行, 整行都是註釋.



作者:

---------------------

亞首(創建者)    <shouyatf@gmail.com>  September 23, 2011




版本歷史:

---------------------
* 版本 1.3
       o 優化的Trace模式, 現在的版本可以完美地顯示痕蹟了, 不會有別的牽連.
       o 當前版本可以暫停, 用space操作控制暫停或繼續
       o 把原來的FPS改名爲MPS, 意爲Move Per Second
       o 增加了比較複雜的頭部信息顯示(FPS, Mode, Trace, MLine, MPS).
       o 優化的字體顯示性能, 現在能在100個以上對象+對象列表顯示中依然保持70以上的FPS.
       

* 版本 1.2 beta
       o 修改了色彩較爲單調的顏色爲隨機顏色.
       o 現在加入了文字顯示功能, 在左上角顯示幀頻. (文字顯示部分模塊取自powdertoy開源程序)
       o 這個版本可以顯示對象列表了, 但還沒有加入控制是否顯示的熱鍵.

* 版本 1.1 beta
       o 所有物體設置擁有半徑
       o 加入了物體合併的情況, 當兩個物體的距離小於半徑和時, 兩個物體合併爲新的更大的物體.
       o 配置文件增加了幾項(MERGE_MODE, DISPLAY_MODE, PRECISION)
       o 修復質量顯示增量太大的問題
       o 新增快捷鍵`c'用於修改顯示模式(質量顯示/半徑顯示)
       o 刪除了不必要的MASS_SCALE, 統一用RANGE_X*RANGE_Y來代替
       o 修改了Makefile, 使之更加符合依賴關係
       
       BUG:
       o 兩個物體相接近合併時的加速度之和太大, 不得不將合併後的物體的加速度設置爲零


* 版本 1.0
       o 已經具有基本的功能, 使用配置文件配置, 無已知Bug.



更新計劃('o'爲下一版本期望):

-------------------------

o 可切換的object list顯示開關
o 可切換的headers 信息切換開關
* 利用鼠標光標查看物件信息
* 用鼠標光標添加對象
* 增加一種可控制的對象類型, 相當於可以用鍵盤控制的黑洞, 本身不移動, 但可以用方向鍵控制
* 合並時加速度結合問題的合理解決
o 嚴格的對象數量檢查
